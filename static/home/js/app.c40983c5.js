(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],a[r]&&p.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},a={app:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/static/home/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0596":function(t,e,n){},"144b":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ickt-shopping-car"},[n("div",{staticClass:"price"},[t._v("共$"+t._s(t.$store.getters.price)+"元")]),n("router-link",{staticClass:"buy",attrs:{to:"/payment",tag:"div"}},[t._v("选好了")])],1)},a=[];n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a})},1835:function(t,e,n){"use strict";var s=n("ca52"),a=n.n(s);a.a},"244e":function(t,e,n){},"345e":function(t,e,n){},"3c3a":function(t,e){},5452:function(t,e,n){"use strict";var s=n("0596"),a=n.n(s);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header",{attrs:{title:"团夕夕",clickTitle:t.clickTitle}},[n("div",{staticClass:"arrow",attrs:{slot:"left"},on:{touchend:function(e){return t.$router.go(-1)}},slot:"left"}),n("div",{attrs:{slot:"right"},slot:"right"},[t._v("登录")])]),n("Search",{directives:[{name:"show",rawName:"v-show",value:0!==t.$route.path.indexOf("/detail/")&&"/payment"!==t.$route.path,expression:"($route.path.indexOf('/detail/') !== 0 && $route.path !== '/payment')"}],attrs:{placeholder:"请输入搜索关键字",search:t.showSearch}}),n("router-view")],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ickt-header"},[n("div",{staticClass:"header-left"},[t._t("left")],2),n("h1",{on:{touchend:t.clickTitle}},[t._v(t._s(t.title))]),n("div",{staticClass:"header-right"},[t._t("right")],2)])},o=[],c={props:{title:{type:String,default:""},clickTitle:{type:Function,default:function(){}}}},l=c,u=(n("5452"),n("2877")),d=Object(u["a"])(l,r,o,!1,null,null,null),p=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ickt-search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.msg},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterToSearch()},input:function(e){e.target.composing||(t.msg=e.target.value)}}})])},h=[],v=(n("386d"),{props:["placeholder","search"],data:function(){return{msg:""}},methods:{enterToSearch:function(){this.search(this.msg),this.msg=""}}}),g=v,m=(n("e589"),Object(u["a"])(g,f,h,!1,null,null,null)),_=m.exports,b={components:{Header:p,Search:_},methods:{showSearch:function(t){console.log(t)},clickTitle:function(){this.$router.push("/")}}},y=b,C=(n("5c0b"),Object(u["a"])(y,a,i,!1,null,null,null)),x=C.exports,w=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-home"},[n("ul",{staticClass:"icons"},t._l(t.icons,function(e){return n("router-link",{key:e.id,attrs:{tag:"li",to:"/list/"+e.id}},[n("img",{attrs:{src:"img/icon/"+e.img,alt:""}}),n("p",[t._v(t._s(e.text))])])}),1),n("ul",{staticClass:"ads"},t._l(t.ad,function(e,s){return n("router-link",{key:s,attrs:{tag:"li",to:"detail"+e._id}},[n("h3",{class:"color-"+s},[t._v(t._s(e.title))]),n("p",[t._v(t._s(e.description))]),n("img",{attrs:{src:"img/ad/"+e.url,alt:""}})])}),1),n("div",{staticClass:"list"},[n("h2",{staticClass:"list-title"},[t._v("猜你喜欢")]),t._l(t.list,function(t){return n("Product",{key:t._id,attrs:{data:t}})})],2)])},k=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ickt-product"},[n("router-link",{staticClass:"product-inner",attrs:{to:"/detail/"+t.data._id,tag:"div"}},[n("img",{attrs:{src:"img/list/"+t.data.img,alt:""}}),n("div",{staticClass:"content"},[n("h3",[t._v(t._s(t.data.title))]),n("p",[n("span",{staticClass:"price"},[t._v(t._s(t.data.price)+"元")]),n("span",{staticClass:"origin-price"},[t._v("门市价: "+t._s(t.data.originPrice)+"元")]),n("span",{staticClass:"sales"},[t._v("销量: "+t._s(t.data.sales))])])])])],1)},j=[],P={props:["data"],created:function(){}},S=P,N=(n("7cd1"),Object(u["a"])(S,O,j,!1,null,null,null)),T=N.exports,E={components:{Product:T},data:function(){return{icons:[{id:1,img:"01.png",text:"美食"},{id:2,img:"02.png",text:"电影"},{id:3,img:"03.png",text:"酒店"},{id:4,img:"04.png",text:"休闲"},{id:5,img:"05.png",text:"外卖"},{id:6,img:"06.png",text:"KTV"},{id:7,img:"07.png",text:"周边游"},{id:8,img:"08.png",text:"丽人"},{id:9,img:"09.png",text:"小吃"},{id:10,img:"10.png",text:"火车票"}],list:[],ad:[]}},created:function(){var t=this;this.$http.get("/data/home.json").then(function(e){var n=e.data;t.ad=n.ad,t.list=n.list})}},G=E,B=(n("1835"),Object(u["a"])(G,$,k,!1,null,"6e9b5876",null)),D=B.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-list"},[n("ul",{staticClass:"list-orders"},t._l(t.orders,function(e){return n("li",{key:e.id,on:{touchend:function(n){return t.listOthers(e.id)}}},[n("span",[t._v(t._s(e.text))]),n("span",{staticClass:"arrow"})])}),0),t._l(t.list,function(t){return n("Product",{key:t._id,attrs:{data:t,tag:"li"}})}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.others.length,expression:"others.length"}],staticClass:"loader-more",on:{touchend:function(e){return t.showOthers()}}},[n("span",[t._v("查看其他 "+t._s(t.others.length)+" 条数据")]),n("span",{staticClass:"arrow"})])],2)},A=[],F=(n("55dd"),{components:{Product:T},data:function(){return{orders:[{id:"price",text:"价格排序"},{id:"sales",text:"销量排序"},{id:"evaluate",text:"好评排序"},{id:"discount",text:"优惠排序"}],list:[],others:[]}},methods:{getData:function(){var t=this,e=this.$route.params;this.$http.get("/data/list",{params:e}).then(function(e){var n=e.data;t.list=n.slice(0,3),t.others=n.slice(3)})},showOthers:function(){this.list=this.list.concat(this.others),this.others=[]},listOthers:function(t){if("discount"===t)return this.list.sort(function(t,e){return t.originPrice-t.price-(e.originPrice-e.price)});z,this.list.sort(function(e,n){return n[t]-e[t]})}},created:function(){this.getData()},watch:{$route:function(){this.getData()}}}),H=F,J=(n("abcb"),Object(u["a"])(H,M,A,!1,null,null,null)),q=J.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-detail"},[n("div",{staticClass:"img-part"},[n("img",{attrs:{src:"img/item/"+t.data.img,alt:""}}),n("h1",[t._v(t._s(t.data.title))]),n("p",[t._v(t._s(t.data.description))])]),n("div",{staticClass:"price-part"},[n("span",{staticClass:"price"},[n("strong",[t._v(t._s(t.data.price))]),t._v("\n\t\t\t元\n\t\t")]),n("span",{staticClass:"origin-price"},[t._v("门市价: "+t._s(t.data.originPrice)+" 元")]),n("span",{class:{"buy-btn":!0,"has-buy":t.data.hasBuy},on:{touchend:t.buyGoods}},[t._v(t._s(t.data.hasBuy?"取消购买":"立即购买"))])]),n("ul",{staticClass:"sales-part"},[n("li",[t._v("支持立即退货")]),n("li",[t._v("支持随时退货")]),n("li",[t._v("销量: "+t._s(t.data.sales))])]),n("div",{staticClass:"store-part module"},[n("div",{staticClass:"module-header"},[t._v("店家信息")]),n("div",{staticClass:"module-body"},[n("p",[t._v(t._s(t.data.storeName))]),n("p",[t._v(t._s(t.data.storeAddress))])]),n("div",{staticClass:"module-footer"},[t._v("查看"+t._s(t.data.storeNum)+"家分店")])]),n("div",{staticClass:"buy-part module"},[n("div",{staticClass:"module-header"},[t._v("购买须知")]),n("div",{staticClass:"module-body",domProps:{innerHTML:t._s(t.data.content)}})]),n("shopping-car")],1)},K=[],L=(n("7514"),n("7cc9")),V={components:{ShoppingCar:L["default"]},data:function(){return{data:{}}},methods:{getData:function(){var t=this,e=this.$route.params;this.$http.get("/data/product",{params:e}).then(function(e){var n=e.data;t.$store.state.goods.find(function(t){return t._id===n._id})&&(n.hasBuy=!0),t.data=n})},buyGoods:function(){this.$store.commit(this.data.hasBuy?"deleteGoods":"addGoods",this.data),this.$set(this.data,"hasBuy",!this.data.hasBuy)}},created:function(){this.getData()},watch:{$router:function(){this.getData()}}},Q=V,R=(n("ed23"),Object(u["a"])(Q,I,K,!1,null,null,null)),U=R.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-payment"},[n("div",{staticClass:"price-part"},[n("span",{staticClass:"price-title"},[t._v("商品总价")]),n("span",{staticClass:"price-num"},[t._v("$"+t._s(t.$store.getters.price))])]),n("div",{staticClass:"btns"},[n("span",{staticClass:"btn-cancel",on:{touchend:function(e){return t.$router.go(-1)}}},[t._v("取消购买")]),n("span",{staticClass:"btn-buy",on:{touchend:t.buyGoods}},[t._v("确认购买")])]),n("h2",{staticClass:"title"},[t._v("购买商品")]),t._l(t.$store.state.goods,function(t){return n("Product",{key:t._id,attrs:{data:t}})})],2)},X=[],Y={components:{Product:T},methods:{buyGoods:function(){this.$http.post("/data/buy",{ids:this.$store.state.goods.map(function(t){return t._id})})}}},Z=Y,tt=(n("5e4c"),Object(u["a"])(Z,W,X,!1,null,null,null)),et=tt.exports;s["a"].use(w["a"]);var nt=new w["a"]({routes:[{path:"/list/:id",component:q},{path:"/detail/:id",component:U},{path:"/payment",component:et},{path:"/*",component:D}]}),st=(n("20d6"),n("db97"),n("2f62"));s["a"].use(st["a"]);var at=new st["a"].Store({state:{search:"",goods:[]},getters:{price:function(t){return 0===t.goods.length?0:t.goods.map(function(t){return t.price}).reduce(function(t,e){return t+e})}},mutations:{updateSeacrch:function(t,e){t.search=e},addGoods:function(t,e){return Object.is(+e.price,NaN)?alert("该商品莫得价格哦"):t.goods.find(function(t){return t._id===e._id})?alert("已经购买了哟"):(t.goods.push(e),void console.log("add",t))},deleteGoods:function(t,e){if(Object.is(+e.price,NaN))return alert("价格为空");var n=t.goods.findIndex(function(t){return t._id===e._id});n>=0&&t.goods.splice(n,1),console.log("delete",t)},okShopping:function(t,e){console.log(e.price)}},actions:{}}),it=n("62c3"),rt=n.n(it),ot=n("9483");Object(ot["a"])("".concat("/static/home/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),s["a"].config.productionTip=!1,s["a"].prototype.$http=rt.a,new s["a"]({router:nt,store:at,render:function(t){return t(x)}}).$mount("#app")},"56da":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var s=n("5e27"),a=n.n(s);a.a},"5e27":function(t,e,n){},"5e4c":function(t,e,n){"use strict";var s=n("56da"),a=n.n(s);a.a},"5eee":function(t,e,n){},"7cc9":function(t,e,n){"use strict";var s=n("144b"),a=n("9074"),i=(n("941e"),n("2877")),r=Object(i["a"])(a["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"7cd1":function(t,e,n){"use strict";var s=n("eed7"),a=n.n(s);a.a},9074:function(t,e,n){"use strict";var s=n("3c3a"),a=n.n(s);e["default"]=a.a},"941e":function(t,e,n){"use strict";var s=n("9579"),a=n.n(s);a.a},9579:function(t,e,n){},abcb:function(t,e,n){"use strict";var s=n("345e"),a=n.n(s);a.a},ca52:function(t,e,n){},e589:function(t,e,n){"use strict";var s=n("244e"),a=n.n(s);a.a},ed23:function(t,e,n){"use strict";var s=n("5eee"),a=n.n(s);a.a},eed7:function(t,e,n){}});
//# sourceMappingURL=app.c40983c5.js.map